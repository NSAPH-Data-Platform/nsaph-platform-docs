<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The netCDF_tools Module &mdash; NSAPH Data Platform 0.0.2 documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/sphinx_paramlinks.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/nsaph.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html" class="icon icon-home">
            NSAPH Data Platform
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../home.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../rationale.html">What is Data Platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../domains.html">Data Domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../pipelines.html">Data Processing Pipelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../packages.html">Python Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../guts.html">Data Platform Internals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../adding_data.html">Adding more data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../glossary.html">Terms and Acronyms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../docindices.html">Indices</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">NSAPH Data Platform</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">The netCDF_tools Module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/common/gridmet/doc/members/netCDF_tools.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="module-gridmet.netCDF_tools">
<span id="the-netcdf-tools-module"></span><h1>The netCDF_tools Module<a class="headerlink" href="#module-gridmet.netCDF_tools" title="Permalink to this heading"></a></h1>
<p>See:</p>
<p><a class="reference external" href="https://unidata.github.io/netcdf4-python/">https://unidata.github.io/netcdf4-python/</a>
<a class="reference external" href="https://neetinayak.medium.com/combine-many-netcdf-files-into-a-single-file-with-python-469ba476fc14">https://neetinayak.medium.com/combine-many-netcdf-files-into-a-single-file-with-python-469ba476fc14</a>
<a class="reference external" href="https://docs.xarray.dev/en/stable/api.html">https://docs.xarray.dev/en/stable/api.html</a></p>
<dl class="py class">
<dt class="sig sig-object py" id="gridmet.netCDF_tools.NetCDFDataset">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NetCDFDataset</span></span><a class="reference internal" href="../../../../_modules/gridmet/netCDF_tools.html#NetCDFDataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gridmet.netCDF_tools.NetCDFDataset" title="Permalink to this definition"></a></dt>
<dd><p>Class to combine NetCDF dataset with absolute values with
dependent datasets containing components</p>
<dl class="py method">
<dt class="sig sig-object py" id="gridmet.netCDF_tools.NetCDFDataset.read_abs_values">
<span class="sig-name descname"><span class="pre">read_abs_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/gridmet/netCDF_tools.html#NetCDFDataset.read_abs_values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gridmet.netCDF_tools.NetCDFDataset.read_abs_values" title="Permalink to this definition"></a></dt>
<dd><p>Reads the NetCDF dataset from a <a href="#id1"><span class="problematic" id="id2">*</span></a>.nc file
Assumes that this dataset contains absolute values of
the variable with the name provided by var parameter.</p>
<p>Raises an exception if the variable is not None but is not present n the dataset.
If the parameter “var” is None, checks that there is only one variable present beside “lat” and “lon”.
Raises exception if there is more than one variable</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="gridmet.netCDF_tools.NetCDFDataset.read_abs_values.params.var"></span><strong>var</strong><a class="paramlink headerlink reference internal" href="#gridmet.netCDF_tools.NetCDFDataset.read_abs_values.params.var">¶</a> – The variable containing the absolute values of the feature of interest, e.g., “pm25”
If None, defaults to a single variable present in teh dataset beside “lat” and “lon”</p></li>
<li><p><span class="target" id="gridmet.netCDF_tools.NetCDFDataset.read_abs_values.params.filename"></span><strong>filename</strong><a class="paramlink headerlink reference internal" href="#gridmet.netCDF_tools.NetCDFDataset.read_abs_values.params.filename">¶</a> – A path to file to read.
Can also be a python 3 pathlib instance or the URL of an OpenDAP dataset.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>ValueError if var is None and there is more than one variable in the dataset or, if var
is not None and is not present in teh dataset</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gridmet.netCDF_tools.NetCDFDataset.add_component">
<span class="sig-name descname"><span class="pre">add_component</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abs_var</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/gridmet/netCDF_tools.html#NetCDFDataset.add_component"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gridmet.netCDF_tools.NetCDFDataset.add_component" title="Permalink to this definition"></a></dt>
<dd><p>Reads the NetCDF dataset from a <a href="#id3"><span class="problematic" id="id4">*</span></a>.nc file
Assumes that this dataset contains percentage of a component defined by
the var parameter.</p>
<p>Can only be called after the dataset is initialized with absolute values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="gridmet.netCDF_tools.NetCDFDataset.add_component.params.var"></span><strong>var</strong><a class="paramlink headerlink reference internal" href="#gridmet.netCDF_tools.NetCDFDataset.add_component.params.var">¶</a> – The variable containing percentage of a certain component</p></li>
<li><p><span class="target" id="gridmet.netCDF_tools.NetCDFDataset.add_component.params.abs_var"></span><strong>abs_var</strong><a class="paramlink headerlink reference internal" href="#gridmet.netCDF_tools.NetCDFDataset.add_component.params.abs_var">¶</a> – The variable name to contain absolute values of the component. If omitted,
it is constructed from the percentage variable name either by removing ‘p’ if the
variable starts with ‘p’ otherwise, by adding ‘<a href="#id5"><span class="problematic" id="id6">abs_</span></a>’ prefix</p></li>
<li><p><span class="target" id="gridmet.netCDF_tools.NetCDFDataset.add_component.params.filename"></span><strong>filename</strong><a class="paramlink headerlink reference internal" href="#gridmet.netCDF_tools.NetCDFDataset.add_component.params.filename">¶</a> – A path to file to read.
Can also be a python 3 pathlib instance or the URL of an OpenDAP dataset.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>ValueError if var is None and there is more than one variable in the dataset or, if var
is not None and is not present in the dataset</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p>ValueError if the grid of the component file is incompatible with
the gird of the existing Dataset</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>ValueError if the absolute values have not yet been read</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gridmet.netCDF_tools.NetCDFDataset.add_components">
<span class="sig-name descname"><span class="pre">add_components</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filenames</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/gridmet/netCDF_tools.html#NetCDFDataset.add_components"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gridmet.netCDF_tools.NetCDFDataset.add_components" title="Permalink to this definition"></a></dt>
<dd><p>Adds multiple components in a single call from multiple files. Assumes that
every file given contains only one variable beside lat and lon</p>
<p>Can only be called after the dataset is initialized with absolute values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><span class="target" id="gridmet.netCDF_tools.NetCDFDataset.add_components.params.filenames"></span><strong>filenames</strong><a class="paramlink headerlink reference internal" href="#gridmet.netCDF_tools.NetCDFDataset.add_components.params.filenames">¶</a> – A list of file paths to read.
Elements of the list can also be a python 3 pathlib instance or the URL of an OpenDAP dataset.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>ValueError if there is more than one variable in any of the datasets</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p>ValueError if the grid of a component file is incompatible with
the gird of the existing Dataset</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>ValueError if the absolute values have not yet been read</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gridmet.netCDF_tools.NetCDFDataset.compute_abs_values">
<span class="sig-name descname"><span class="pre">compute_abs_values</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/gridmet/netCDF_tools.html#NetCDFDataset.compute_abs_values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gridmet.netCDF_tools.NetCDFDataset.compute_abs_values" title="Permalink to this definition"></a></dt>
<dd><p>Computes absolute values for every component present in the dataset.
:raises: ValueError if the absolute values have not yet been read</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gridmet.netCDF_tools.NetCDFDataset.get_dataset">
<span class="sig-name descname"><span class="pre">get_dataset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="reference internal" href="../../../../_modules/gridmet/netCDF_tools.html#NetCDFDataset.get_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gridmet.netCDF_tools.NetCDFDataset.get_dataset" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gridmet.netCDF_tools.NetCDFDataset.write_dataset">
<span class="sig-name descname"><span class="pre">write_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/gridmet/netCDF_tools.html#NetCDFDataset.write_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gridmet.netCDF_tools.NetCDFDataset.write_dataset" title="Permalink to this definition"></a></dt>
<dd><p>Creates a new file or overwrites existing one saving the current state of the dataset</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><span class="target" id="gridmet.netCDF_tools.NetCDFDataset.write_dataset.params.filename"></span><strong>filename</strong><a class="paramlink headerlink reference internal" href="#gridmet.netCDF_tools.NetCDFDataset.write_dataset.params.filename">¶</a> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gridmet.netCDF_tools.main">
<span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">infile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">components</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/gridmet/netCDF_tools.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#gridmet.netCDF_tools.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</div>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Harvard University.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>